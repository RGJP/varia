<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soaring Witness</title>
    <style>
        /*
         * FONT IMPORT & ROOT VARIABLES
         * Using a modern, clean font and CSS variables for easy theme management.
         */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&display=swap');

        :root {
            --bg-color: #f8f9fa;
            --text-color: #212529;
            --header-color: #343a40;
            --video-bg-color: #ffffff;
            --shadow-color: rgba(0, 0, 0, 0.08);
            --icon-fill: #212529;
            --icon-hover-bg: #e9ecef;
            --overlay-bg: rgba(248, 249, 250, 0.95);
            --overlay-text: #212529;
            /* Changed link-color to use text-color for black/white depending on theme */
            --link-color: var(--text-color);
        }

        body.dark-mode {
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --header-color: #f1f3f5;
            --video-bg-color: #1e1e1e;
            --shadow-color: rgba(0, 0, 0, 0.4);
            --icon-fill: #f1f3f5;
            --icon-hover-bg: #333333;
            --overlay-bg: rgba(18, 18, 18, 0.95);
            --overlay-text: #e0e0e0;
            /* Changed link-color to use text-color for black/white depending on theme */
            --link-color: var(--text-color);
        }

        /*
         * GENERAL STYLING & RESET
         * Ensures a consistent base and smooth transitions.
         */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.4s ease, color 0.4s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem 1rem;
        }

        /*
         * HEADER & THEME TOGGLE
         * Minimal header with an accessible theme toggle switch.
         */
        .site-header {
            width: 100%;
            max-width: 900px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 3rem;
            gap: 1rem;
        }

        .site-header h1 {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--header-color);
            transition: color 0.4s ease;
        }

        /* Styling for both theme toggle and info button */
        #theme-toggle,
        #info-button {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s ease;
            font-weight: bold;
        }

        #info-button {
            /* Adjustments to center the character */
            font-size: 1.5rem; /* Larger font size to fill the button */
            width: 40px;
            height: 40px;
            line-height: 1; /* Reset line-height to center vertically */
            color: var(--icon-fill); /* This is the new line */
            font-family: monospace, sans-serif; /* Changed the font to monospace for a cleaner 'i' */
        }

        #theme-toggle:hover,
        #info-button:hover {
            background-color: var(--icon-hover-bg);
        }

        #theme-toggle svg {
            width: 24px;
            height: 24px;
            /* The fill for the SVG parent is handled by the children's attributes */
            transition: fill 0.4s ease, stroke 0.4s ease; /* Ensure stroke transitions too */
        }

        /* Explicitly set fill and stroke for sun icon parts */
        .sun circle {
            fill: var(--icon-fill);
            transition: fill 0.4s ease;
        }

        .sun g {
            stroke: var(--icon-fill);
            transition: stroke 0.4s ease;
        }

        .sun { display: none; }
        .moon { display: block; }
        body.dark-mode .sun { display: block; }
        body.dark-mode .moon { display: none; }

        /*
         * VIDEO GALLERY LAYOUT
         * A single, centered column for video containers.
         */
        .gallery {
            width: 100%;
            max-width: 900px;
        }

        .video-container {
            position: relative;
            width: 100%;
            aspect-ratio: 16 / 9;
            margin-bottom: 2.5rem;
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            background-color: var(--video-bg-color);
            box-shadow: 0 8px 24px var(--shadow-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .video-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 32px var(--shadow-color);
        }

        /*
         * VIDEO THUMBNAIL & PLAY BUTTON
         * Static thumbnail with a clean, centered play button overlay.
         */
        .video-thumbnail {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.4s ease, transform 0.4s ease;
        }

        .video-container:hover .video-thumbnail {
            transform: scale(1.05);
        }

        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(1);
            width: 80px;
            height: 80px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            transition: transform 0.3s ease, background-color 0.3s ease;
            pointer-events: none; /* Allows click to pass through to container */
        }

        .video-container:hover .play-button {
            transform: translate(-50%, -50%) scale(1.1);
        }

        .play-button svg {
            width: 40px;
            height: 40px;
            fill: #111;
            transform: translateX(3px); /* Optical alignment */
        }

        /*
         * VIDEO EMBED & PLAYING STATE
         * Handles the iframe container and visibility during playback.
         */
        .video-embed {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            visibility: hidden; /* Hide until populated */
        }

        .video-embed iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .video-container.playing .video-thumbnail,
        .video-container.playing .play-button {
            opacity: 0;
            visibility: hidden;
        }

        .video-container.playing .video-embed {
            visibility: visible;
        }

        /*
         * OVERLAY STYLING
         * The new feature for the site description overlay.
         */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--overlay-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease, visibility 0s linear 0.5s;
            z-index: 1000;
        }

        .overlay.visible {
            opacity: 1;
            visibility: visible;
            transition: opacity 0.5s ease;
        }

        .overlay-content {
            background: var(--video-bg-color);
            color: var(--overlay-text);
            padding: 2rem;
            border-radius: 12px;
            max-width: 600px;
            text-align: center;
            box-shadow: 0 10px 30px var(--shadow-color);
            position: relative;
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }

        .overlay.visible .overlay-content {
            transform: scale(1);
        }

        .overlay-content h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--header-color);
        }

        .overlay-content p {
            line-height: 1.6;
            margin-bottom: 1.5rem;
            font-weight: 300;
        }

        .overlay-content a {
            color: var(--link-color); /* Now uses theme-dependent text color */
            text-decoration: underline; /* Always underlined */
            font-weight: 700;
            transition: color 0.3s ease;
        }

        .overlay-content a:hover {
            color: var(--text-color);
            text-decoration: none; /* Removed underline on hover for a subtle effect */
        }

        .overlay-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 2rem;
            color: var(--text-color);
            cursor: pointer;
            line-height: 1;
        }
    </style>
</head>
<body>

<header class="site-header">
    <h1 id="site-title">Soaring Witness</h1>
    <button id="theme-toggle" aria-label="Toggle theme">
        <svg class="sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="5" fill="var(--icon-fill)"/>
            <g stroke="var(--icon-fill)" stroke-width="2">
                <line x1="12" y1="1" x2="12" y2="4"/>
                <line x1="12" y1="20" x2="12" y2="23"/>
                <line x1="1" y1="12" x2="4" y2="12"/>
                <line x1="20" y1="12" x2="23" y2="12"/>
                <line x1="4.22" y1="4.22" x2="6.34" y2="6.34"/>
                <line x1="17.66" y1="17.66" x2="19.78" y2="19.78"/>
                <line x1="4.22" y1="19.78" x2="6.34" y2="17.66"/>
                <line x1="17.66" y1="6.34" x2="19.78" y2="4.22"/>
            </g>
        </svg>
        <svg class="moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="var(--icon-fill)" d="M10 2c-1.82 0-3.53.5-5 1.35C7.99 5.08 10 8.3 10 12s-2.01 6.92-5 8.65C6.47 21.5 8.18 22 10 22c5.52 0 10-4.48 10-10S15.52 2 10 2z"/></svg>
    </button>
    <button id="info-button" aria-label="Open information overlay">
        i
    </button>
</header>

<main class="gallery">
    <div class="video-container" data-youtube-id="rNghdHlsqAI">
        <img src="https://i.ytimg.com/vi/rNghdHlsqAI/maxresdefault.jpg" alt="chute kabir kouba 2" class="video-thumbnail">
        <div class="play-button">
            <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg>
        </div>
        <div class="video-embed"></div>
    </div>
    <div class="video-container" data-youtube-id="DfF_PyxW62A">
        <img src="https://i.ytimg.com/vi/DfF_PyxW62A/maxresdefault.jpg" alt="Rivere St Charles" class="video-thumbnail">
        <div class="play-button">
            <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg>
        </div>
        <div class="video-embed"></div>
    </div>
    <div class="video-container" data-youtube-id="Yc8TTc7jIfw">
        <img src="https://i.ytimg.com/vi/Yc8TTc7jIfw/maxresdefault.jpg" alt="Chute Kabir Kouba" class="video-thumbnail">
        <div class="play-button">
            <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg>
        </div>
        <div class="video-embed"></div>
    </div>

    <div class="video-container" data-youtube-id="QzjO8y-aUgQ">
        <img src="https://i.ytimg.com/vi/QzjO8y-aUgQ/maxresdefault.jpg" alt="Plage Gagnon" class="video-thumbnail">
        <div class="play-button">
            <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg>
        </div>
        <div class="video-embed"></div>
    </div>



</main>

<div id="info-overlay" class="overlay">
    <div class="overlay-content">
        <button class="overlay-close">&times;</button>
        <h2></h2>
        <p>
            This space is dedicated to sharing my humble experiences of admiring nature’s beauty from above. All footage was captured with a DJI Mini 4K drone. I’m a beginner, currently learning the craft. This simple project was created to explore the world from a fresh perspective, reminding us that we are part of something vast, breathtaking, and beautiful. Like a bird in flight, we soar through nature to witness the wonders of life from the skies. For the best viewing experience, select the highest quality option from the ⚙️ icon in the YouTube video player. I’ll be posting new videos regularly, so check back from time to time and enjoy the journey!
        </p>
        <a href="mailto:raffael.jomphe@gmail.com">Contact</a>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- THEME TOGGLE LOGIC ---
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;

        // Function to apply theme based on preference
        const applyTheme = (theme) => {
            if (theme === 'dark') {
                body.classList.add('dark-mode');
            } else {
                body.classList.remove('dark-mode');
            }
        };

        // Check for saved theme in localStorage
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            applyTheme(savedTheme);
        } else {
            // Or check for user's OS preference
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            applyTheme(prefersDark ? 'dark' : 'light');
        }

        // Event listener for the toggle button
        themeToggle.addEventListener('click', () => {
            const isDarkMode = body.classList.toggle('dark-mode');
            localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
        });


        // --- VIDEO PLAYER LOGIC ---
        const videoContainers = document.querySelectorAll('.video-container');

        videoContainers.forEach(container => {
            container.addEventListener('click', () => {
                // Prevent re-creating the iframe if it's already playing
                if (container.classList.contains('playing')) {
                    return;
                }

                const videoId = container.dataset.youtubeId;
                const embedContainer = container.querySelector('.video-embed');

                // Clear any previous iframes in other containers
                document.querySelectorAll('.video-embed').forEach(embed => embed.innerHTML = '');
                document.querySelectorAll('.video-container').forEach(c => c.classList.remove('playing'));

                // Create the iframe
                const iframe = document.createElement('iframe');
                const videoUrl = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0&modestbranding=1&fs=1&iv_load_policy=3&showinfo=0&playsinline=1`;

                iframe.setAttribute('src', videoUrl);
                iframe.setAttribute('title', 'YouTube video player');
                iframe.setAttribute('frameborder', '0');
                iframe.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share');
                iframe.setAttribute('allowfullscreen', 'true');

                // Add the iframe and update the state
                embedContainer.appendChild(iframe);
                container.classList.add('playing');

                // Request fullscreen once the iframe has loaded
                iframe.onload = () => {
                    if (iframe.requestFullscreen) {
                        iframe.requestFullscreen();
                    } else if (iframe.webkitRequestFullscreen) { /* Safari */
                        iframe.webkitRequestFullscreen();
                    } else if (iframe.msRequestFullscreen) { /* IE11 */
                        iframe.msRequestFullscreen();
                    }
                };
            });
        });

        // --- FULLSCREEN EXIT HANDLING ---
        // Listen for when the user exits fullscreen (e.g., by pressing ESC)
        document.addEventListener('fullscreenchange', () => {
            // If there's no element in fullscreen anymore
            if (!document.fullscreenElement) {
                const playingContainer = document.querySelector('.video-container.playing');
                if (playingContainer) {
                    playingContainer.querySelector('.video-embed').innerHTML = '';
                    playingContainer.classList.remove('playing');
                }
            }
        });

        // --- OVERLAY LOGIC ---
        const infoButton = document.getElementById('info-button');
        const infoOverlay = document.getElementById('info-overlay');
        const closeButton = document.querySelector('.overlay-close');

        infoButton.addEventListener('click', () => {
            infoOverlay.classList.add('visible');
        });

        closeButton.addEventListener('click', () => {
            infoOverlay.classList.remove('visible');
        });

        // Close overlay if the user clicks outside the content
        infoOverlay.addEventListener('click', (e) => {
            if (e.target.id === 'info-overlay') {
                infoOverlay.classList.remove('visible');
            }
        });

        // Close overlay on Escape key press
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && infoOverlay.classList.contains('visible')) {
                infoOverlay.classList.remove('visible');
            }
        });
    });
</script>

</body>
</html>
